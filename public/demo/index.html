<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="./styles.css">

  <title>Watson Conversation Demo</title>

  <script type="text/javascript">
    // <![CDATA[
    var wcs_config = {
      handler: {
        init: function(chatwindow) {
          chatwindow.message('Watson', 'Hello from me!', new Date())
        },

        send: function(request, response) {
          // implement a method which calls your backend proxy
          console.log(request);
          
          // this is a simple demo:
          response.typing_on();
          window.setTimeout(function() {
            response.message('Watson', 'This is a demo message', new Date());
          }, 3000); 

          window.setTimeout(function() {
            response.response({"intents":[],"entities":[],"input":{"text":"Hello"},"output":{"text":["Ich habe Sie nicht verstanden. Bitte formulieren Sie Ihre Aussage neu."],"nodes_visited":["Andernfalls"],"log_messages":[]},"context":{"conversation_id":"a5133615-eb02-4cc6-9a3d-f86803f3bccf","system":{"dialog_stack":[{"dialog_node":"root"}],"dialog_turn_counter":1,"dialog_request_counter":1,"_node_output_map":{"Andernfalls":[0]},"branch_exited":true,"branch_exited_reason":"completed"}}});
          }, 4000);
        },
        close: function() {
          // This method is called when the close button is called.
        }
      },

      initial_context: {
        salutation: "Herr",
        firstname: "Egon",
        lastname: "Olsen"
      },

      settings: {
        init: true,
        onClose: undefined,
        userLabel: 'Sie',
        botLabel: 'Watson',
        title: 'Watson - How can I help you today?'
      }
    }
    // ]]>
  </script>
</head>

<body>
  <iframe src="https://www.ibm.com/de/de"></iframe>

  <iframe class="wcs-bot-window" id="wcs-bot-window" allowtransparency="true" src="http://localhost:3000/index.html"></iframe>
</body>

</html>